<%- layout('layout')%>

<div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-8">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <span>主页 / </span>注册
                </div>
                <div class="panel-body">
                    <ul class="sign_form">
                        <li>
                            <div class="input-group">
                                <span for="form_name">用户名</span>
                                <input type="text" id="form_name" class="control-group" placeholder="">
                            </div>
                        </li>
                        <li>
                            <div class="input-group">
                                <span for="form_email">邮箱</span>
                                <input type="text" id="form_email" class="control-group" placeholder="">
                            </div>
                        </li>
                        <li>
                            <div class="input-group">
                                <span for="form_tel">手机号</span>
                                <input type="text" id="form_tel" class="control-group" placeholder="">
                            </div>
                        </li>
                        <li>
                            <div class="input-group">
                                <span for="form_psd">密码</span>
                                <input type="text" id="form_psd" class="control-group" placeholder="">
                            </div>
                        </li>
                    </ul>
                    <div class="row" style="display: flex;justify-content: center;margin-bottom: 20px">
                        <button type="button" class="btn btn-primary">注册</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-4 hidden-xs">
            <div class="panel panel-default">
                <div class="panel-heading">
                    关于
                </div>
                <div class="panel-body">
                    这是一个DEMO
                    <br/>
                    <br/>
                    <p>在这里你可以：</p>
                    <ol>
                        <li>&nbsp;&nbsp;1、向别人提出你遇到的问题</li>
                        <li>&nbsp;&nbsp;2、帮助遇到问题的人</li>
                        <li>&nbsp;&nbsp;3、分享自己的知识</li>
                        <li>&nbsp;&nbsp;4、和其它人一起进步</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.btn-primary').on('click',function(){
            var data={
                username:$('#form_name').val(),
                email:$('#form_email').val(),
                telephone:$('#form_tel').val(),
                password:$('#form_psd').val(),
            }
            var flag = true
            for(var k in data){
                if(data[k]==''){
                    flag = false
                }
            }
            /*console.log(data);*/
            if(flag){
                $.ajax({
                    url:'/signin',
                    type:'POST',
                    dataType:'JSON',
                    data:data,
                    success:function(result){
                        console.log(result);
                        if(result.code==1){
                            alert(result.info[0])
                            location.reload()
                        }else{
                            alert(result.info[0])
                        }
                    },
                    error:function(res){
                        console.log(res);
                    }
                })
            }
        })
    })
</script>